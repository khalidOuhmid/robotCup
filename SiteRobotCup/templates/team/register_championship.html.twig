{% extends 'base.html.twig' %}

{% block title %}Inscription au championnat - {{ team.name }}{% endblock %}

{% block body %}
    <div class="flex flex-col w-full p-20">
        <div class="shadow-lg bg-sky-800 size-full p-2 rounded-t-lg">
            <h1 class="text-white font-bold p-2">Inscription de l'équipe {{ team.name }} à un championnat</h1>
        </div>
        
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="bg-{{ label == 'success' ? 'green' : 'red' }}-100 border border-{{ label == 'success' ? 'green' : 'red' }}-400 text-{{ label == 'success' ? 'green' : 'red' }}-700 px-4 py-3 rounded relative mb-4" role="alert">
                    <span class="block sm:inline">{{ message }}</span>
                </div>
            {% endfor %}
        {% endfor %}
        
        {% if championships|length > 0 %}
            <form method="post" action="{{ path('app_team_register_championship', {'teamId': team.id}) }}" class="bg-slate-200 p-4 rounded-b-lg">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="championship">
                        Sélectionner un championnat
                    </label>
                    <select name="championship" id="championship" class="w-full p-2 rounded" required>
                        {% for championship in championships %}
                            <option value="{{ championship.id }}">
                                {{ championship.name }} - {{ championship.date|date('d/m/Y') }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                
                <button type="submit" class="bg-green-400 p-3 hover:cursor-pointer hover:bg-green-500 px-4 py-2 rounded-lg text-white">
                    Inscrire l'équipe
                </button>
                
                <a href="{{ path('app_team_show') }}" class="ml-2 bg-gray-400 p-3 hover:cursor-pointer hover:bg-gray-500 px-4 py-2 rounded-lg text-white inline-block">
                    Annuler
                </a>
            </form>
        {% else %}
            <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative">
                <span class="block sm:inline">Aucun championnat n'est disponible pour le moment.</span>
            </div>
        {% endif %}
    </div>
{% endblock %}
